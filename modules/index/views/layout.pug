doctype html
html
    head
        title= i18n('page_title')
        meta(charset="utf-8")
        meta(name="viewport", content="width=device-width, initial-scale=1, shrink-to-fit=no")
        script(src="/twbs.bundle.js")
        script(src="/fa.bundle.js")
        script(src="/index.bundle.js")

    body
        #signInModal.modal.fade(tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true")
            .modal-dialog(role="document")
                form(onsubmit="return false")
                    .modal-content
                        .modal-header
                            h5.modal-title #{i18n('sign_in_title')}
                            button.close(type="button" data-dismiss="modal" aria-label="#{i18n('modal_close_button')}")
                                span(aria-hidden="true") &times;
                        .modal-body
                            .form-group.messages
                            .form-group.row
                                label.col-sm-4.col-form-label.text-sm-right(for="inputEmail") #{i18n('sign_in_email_label')}
                                    span.control-required #{i18n('modal_control_required')}
                                .col-sm-8
                                    input#inputEmail.form-control(type="email" name="email" validate)
                                    .errors
                            .form-group.row
                                label.col-sm-4.col-form-label.text-sm-right(for="inputPassword") #{i18n('sign_in_password_label')}
                                    span.control-required #{i18n('modal_control_required')}
                                .col-sm-8
                                    input#inputPassword.form-control(type="password" name="password")
                                    .errors
                        .modal-footer
                            button.btn.btn-secondary(type="button" data-dismiss="modal") #{i18n('sign_in_cancel_button')}
                            button.btn.btn-primary(type="submit") #{i18n('sign_in_submit_button')}

        nav.navbar.navbar-toggleable-sm.sticky-top.navbar-light.bg-faded
            .container
                a.navbar-brand.hidden-sm-down(href="javascript:void(0)") #{i18n('project_title')}
                button.navbar-toggler.navbar-toggler(type="button" data-toggle="collapse" data-target="#navbarText"
                    aria-controls="navbarText" aria-expanded="false" aria-label="#{i18n('navbar_menu_button')")
                    span.navbar-toggler-icon
                a.navbar-brand.float-right.hidden-md-up(href="javascript:void(0)") #{i18n('project_title')}
                #navbarText.collapse.navbar-collapse.justify-content-between
                    ul.navbar-nav
                        li.nav-item.active
                            a.nav-link(href="/") Home
                        li.nav-item
                            a.nav-link(href="/test") Test
                        if user
                            li.nav-item.hidden-md-up
                                a.nav-link(href="/account/profile") #{i18n('profile_button')}
                                a.btn-sign-out.nav-link(href="javascript:void(0)") #{i18n('sign_out_button')}
                        else
                            li.nav-item.hidden-md-up
                                a.btn-sign-in.nav-link(href="javascript:void(0)") #{i18n('sign_in_button')}
                            li.nav-item.hidden-md-up
                                a.btn-sign-up.nav-link(href="javascript:void(0)") #{i18n('sign_up_button')}
                    if user
                        ul.navbar-nav.hidden-sm-down
                            li.nav-item.dropdown
                                a#authMenuButton.nav-link.dropdown-toggle(href="javascript:void(0)" data-toggle="dropdown")
                                    i.fa.fa-user.fa-margin-right
                                    | #{user.name || user.email || "anonymous"}
                                .dropdown-menu(aria-labelledby="authMenuButton")
                                    a.dropdown-item(href="/account/profile") #{i18n('profile_button')}
                                    .dropdown-divider
                                    a.btn-sign-out.dropdown-item(href="javascript:void(0)") #{i18n('sign_out_button')}
                    else
                        .hidden-sm-down
                            button.btn.btn-link(type="button" data-toggle="modal" data-target="#signInModal") #{i18n('sign_in_button')}
                            span #{i18n('sign_buttons_divider')}
                            button.btn.btn-link(type="button" data-toggle="modal" data-target="#signUpModal") #{i18n('sign_up_button')}

        .mt-5
            block content
